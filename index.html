<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CMPE 285 Term Project</title>
    <link rel="stylesheet" href="home.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
	<script src="https://code.highcharts.com/highcharts.js"></script>
	<script src="https://code.highcharts.com/modules/series-label.js"></script>
	<script src="https://code.highcharts.com/modules/exporting.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>
<body>
	<nav class="navbar navbar-default">
	  <div class="container-fluid">
		<div class="navbar-header">
		  <a class="navbar-brand" href="">CMPE 285 Team Project</a>
		</div>
		<ul class="nav navbar-nav" style="float:right">
		  <li><a href="">Gary</a></li>
		  <li><a href="">DaMing</a></li>
		  <li><a href="">ChengCheng</a></li>
		  <li><a href="">Shuoran</a></li>
		</ul>
	  </div>
	</nav>
	<div id="container"  style="margin:100px auto;">
		<div id="step1" class="row">
			<div class="col-xs-3"></div>
			<form class="col-xs-6 well well-lg" id="fakeForm" onsubmit="return submitFakeForm()">
				<div class="row">
					<div class="col-xs-9 col-sm-6">
						<br>
						<p>Please select your strategy</p>
					</div>
					<div class="col-xs-6">
						<div class="checkbox"><label><input type="checkbox" class="strategtCheckbox" value="1">Ethical Investing</label></div>
						<div class="checkbox"><label><input type="checkbox" class="strategtCheckbox" value="2">Growth Investing</label></div>
						<div class="checkbox"><label><input type="checkbox" class="strategtCheckbox" value="3">Index Investing</label></div>
						<div class="checkbox"><label><input type="checkbox" class="strategtCheckbox" value="4">Quality Investing</label></div>
						<div class="checkbox"><label><input type="checkbox" class="strategtCheckbox" value="5">Value Investing</label></div>
					</div>
				</div>
				<div class="form-group">
				
					<label for="email">Invest money</label>
					<input type="text" class="form-control" id="investMoney">
				</div>
				<button id="investNow" type="button" class="btn btn-default">Invest Now!</button>
			</form>
		</div>
		<div id="step2" style="display:none;">
			<h2>Growing Investment Strategy</h2>
			<p>Please take a look at the stocks we recommanded:</p>            
			<table class="table table-striped">
				<thead>
				  <tr>
					<th>Stock</th>
					<th>Price($)</th>
					<th>Share</th>
					<th>Radio</th>
				  </tr>
				</thead>
				<tbody>
				  <tr>
					<td>GOOG</td>
					<td>$1320.32</td>
					<td>10</td>
					<td>33.33%</td>
				  </tr>
				  <tr>
					<td>APPL</td>
					<td>$212.36</td>
					<td>10</td>
					<td>33.33%</td>
				  </tr>
				  <tr>
					<td>LINK</td>
					<td>$92.76</td>
					<td>10</td>
					<td>33.33%</td>
				  </tr>
				</tbody>
			</table>
			<div class="row">
				<div class="col-xs-12 col-sm-12">
					<div id="piechart" style="width: 500px; height: 300px;"></div>
				</div>
			</div>
			<div id="googleChart"></div>
		</div>
	</div>
	
<script type="text/javascript">
    function submitFakeForm(){
		$("#investNow").click();
		return false;
	}
	$("#investNow").click(function(){
		var inputMoney = $("#investMoney").val();
		var strategyCount = 0;
		$('input:checked.strategtCheckbox').each(function () {
			strategyCount++;
		});
		if(isMoneyInputValid(inputMoney) && strategyCount>0 && strategyCount<3){
			$("#step1").css("display","none");
			$("#step2").css("display","block");
			google.charts.load('current', {'packages':['corechart']});
			google.charts.setOnLoadCallback(drawChart1);
			function drawChart1() {

				var data = google.visualization.arrayToDataTable([
					['STOCK', 'SHARE'],
					['GOOG', 10],
					['APPL', 10],
					['LINK', 10]
				]);

				var options = {
					title: 'Holding Radio Pie Chart'
				};

				var chart = new google.visualization.PieChart(document.getElementById('piechart'));

				chart.draw(data, options);
			}

			
			Highcharts.chart('googleChart', {

				title: {
					text: 'BALABANA Inverstment Strategy'
				},

				subtitle: {
					text: 'Source: Google Finance API'
				},

				xAxis: {
					categories: ['11/14', '11/15', '11/16', '11/17', '11/20']
				},
				
				yAxis: {
					title: {
						text: 'Money'
					}
				},
				legend: {
					layout: 'vertical',
					align: 'right',
					verticalAlign: 'middle'
				},

				plotOptions: {
					line: {
						dataLabels: {
							enabled: true
						},
						enableMouseTracking: false
					}
				},

				series: [{
					name: 'Overall',
					data: [5000, 4900, 5100, 5250, 5200]
				}, {
					name: 'Stock1',
					data: [1000, 900, 1100, 1250, 1200]
				}, {
					name: 'stock2',
					data: [1500, 1500, 1500, 1500, 1500]
				}, {
					name: 'stock3',
					data: [2500, 2500, 2500, 2500, 2500]
				}],

				responsive: {
					rules: [{
						condition: {
							maxWidth: 500
						},
						chartOptions: {
							legend: {
								layout: 'horizontal',
								align: 'center',
								verticalAlign: 'bottom'
							}
						}
					}]
				}

			});
		} else {
			alert("Wrong input.\r\nMoney should over $5000\r\n1-2 strategy can be selected")
		}
	});
	function isMoneyInputValid(inputMoney){
		var regex = /^[1-9]\d*(((,\d{3}){1})?(\.\d{0,2})?)$/;
		if (regex.test(inputMoney)){
			if(inputMoney>5000){
				return true;
			}
		}
		return false;
	}
    
</script>
</body>
</html>